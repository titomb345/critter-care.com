---
import gallery from '../content/gallery.json';
import Lightbox from './Lightbox.astro';

const photos = gallery.photos.map(p => p.image);
---

{photos.length > 0 ? (
  <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4">
    {photos.map((photo, i) => (
      <button
        class="gallery-thumb aspect-square overflow-hidden rounded-xl shadow-sm hover:shadow-lg transition-all duration-300 cursor-pointer border border-border/30 hover:border-primary-light/50 group"
        data-index={i}
        data-src={photo}
        data-alt={`Pet ${i + 1}`}
      >
        <img
          src={photo}
          alt={`Pet ${i + 1}`}
          class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"
          loading="lazy"
        />
      </button>
    ))}
  </div>
) : (
  <p class="text-center text-muted py-12">Photos coming soon!</p>
)}

<Lightbox selector=".gallery-thumb" />
